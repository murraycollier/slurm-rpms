<h2 id="21080">Slurm 21.08.8<a class="slurm_link" href="#21080"></a></h2>

<h3>openapi/dbv0.0.37</h3>

<h4>Move response fields in dbv0.0.37_diag under "statistics"</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new parent field</td>
	<td class="tdchange" colspan=2>
		<ul>
			<li>.components.schemas."dbv0.0.37_diag".properties.statistics</li>
		</ul>
	</td>
</tr>
<tr class="trchange">
	<td class="tdfield">subordinated fields</td>
	<td class="tdchange" colspan=2>
		<ul>
			<li>.components.schemas."dbv0.0.37_diag".properties.time_start</li>
			<li>.components.schemas."dbv0.0.37_diag".properties.rollups</li>
			<li>.components.schemas."dbv0.0.37_diag".properties.RPCs</li>
			<li>.components.schemas."dbv0.0.37_diag".properties.users</li>
		</ul>
	</td>
</tr>
</table>

<h2 id="21087">Slurm 21.08.7<a class="slurm_link" href="#21087"></a></h2>

<h3>openapi/v0.0.37</h3>

<h4>Fix misspelling: change account_gather_freqency to account_gather_frequency
(only the spec was wrong; the underlying code already worked with the correct spelling).</h4>

<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_properties".properties.account_gather_freqency</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_properties".properties.account_gather_frequency</td>
</tr>
</table>

<h4>Fix misspelling: change cluster_constraints to cluster_constraint (only the
spec was wrong; the underlying code already worked with the correct spelling).
</h4>

<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_properties".properties.cluster_constraints</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_properties".properties.cluster_constraint</td>
</tr>
</table>

<h2 id="21086">Slurm 21.08.6<a class="slurm_link" href="#21086"></a></h2>

<h3>openapi/dbv0.0.37</h3>

<h4>Add association fields</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new fields</td>
	<td class="tdchange" colspan=2>
		<ul>
			<li>.components.schemas."dbv0.0.37_association".properties.is_default</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.tres.group.minutes</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.tres.group.active</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.jobs.active</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.jobs.accruing</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.jobs.total</li>
			<li>.components.schemas."dbv0.0.37_association".properties.max.tres.minutes.per.job</li>
		</ul>
	</td>
</tr>
</table>

<h4>Move incorrectly named field</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">old path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_qos".properties.limits.max.jobs.per.account</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_qos".properties.limits.max.jobs.active_jobs.per.account</td>
</tr>
</table>

<h4>Move incorrectly named field</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">old path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_qos".properties.limits.properties.max.properties.jobs.properties.per.properties.user</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_qos".properties.limits.properties.max.properties.jobs.properties.active_jobs.properties.per.properties.user</td>
</tr>
</table>

<h4>Add QOS fields</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new fields</td>
	<td class="tdchange" colspan=2>
		<ul>
			<li>.components.schemas."dbv0.0.37_qos".properties.limits.properties.factor</li>
			<li>.components.schemas."dbv0.0.37_qos".properties.limits.properties.max.properties.accruing.properties.per.properties.account</li>
			<li>.components.schemas."dbv0.0.37_qos".properties.limits.properties.max.properties.accruing.properties.per.properties.user</li>
		</ul>
	</td>
</tr>
</table>

<h2 id="21083">Slurm 21.08.3<a class="slurm_link" href="#21083"></a></h2>

<h3>openapi/v0.0.37</h3>

<h4>Allow strings for JobIds instead of only numerical JobIds.</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">Change job_id parameter to string</td>
	<td class="tdchange">
		<ul>
			<li>.paths."/job/{job_id}".get.parameters[].schema</li>
			<li>.paths."/job/{job_id}".post.parameters[].schema</li>
			<li>.paths."/job/{job_id}".delete.parameters[].schema</li>
		</ul>
	</td>
</tr>
</table>

<h3>openapi/dbv0.0.37</h3>

<h4>Correct placement of step TRES</h4>

<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_job_step".properties.step.properties.tres</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_job_step".properties.tres</td>
</tr>
</table>

<h3>openapi/dbv0.0.36</h3>

<h4>Correct placement of step TRES</h4>

<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."dbv0.0.36_job_step".properties.step.properties.tres</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.36_job_step".properties.tres</td>
</tr>
</table>

<h2 id="21080">Slurm 21.08.0<a class="slurm_link" href="#21080"></a></h2>

<p>All of the OpenAPI plugins have moved from "src/slurmrestd/plugins/openapi/"
to "src/plugins/openapi/".</p>

<h3>openapi/v0.0.35</h3>

<h4>Deprecation notice</h4>
The v0.0.35 plugin has now been deprecated.

<h3>openapi/dbv0.0.37</h3>

<h4>add plugin</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new dbv0.0.37 openapi plugin</td>
	<td class="tdchange">
		<ul>
			<li>clone of existing dbv0.0.36 openapi plugin</li>
			<li>all paths renamed from v0.0.36 to v0.0.37</li>
		</ul>
	</td>
</tr>
</table>

<h4>rename previous -> reason</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_job".properties.state.previous</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_job".properties.state.reason</td>
</tr>
</table>

<h3>openapi/v0.0.37</h3>

<h4>add plugin</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new v0.0.37 openapi plugin</td>
	<td class="tdchange">
		<ul>
			<li>clone of existing v0.0.36 openapi plugin</li>
			<li>all paths renamed from v0.0.36 to v0.0.37</li>
		</ul>
	</td>
</tr>
</table>

<h4>rename standard_in -> standard_input</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.standard_in</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.standard_input</td>
</tr>
</table>

<h4>rename standard_out -> standard_output</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">previous path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.standard_out</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.standard_output</td>
</tr>
</table>

<h4>Add update_time field to Jobs query to allow clients to only get jobs list based on change timestamp.</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.paths."/jobs/".get.parameters[0]</td>
</tr>
</table>

<h4>add api to fetch reservation(s) info</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">added path</td>
	<td class="tdchange">.paths."/reservations/"</td>
</tr>
<tr class="trchange">
	<td class="tdfield">added path</td>
	<td class="tdchange">.paths."/reservation/{reservation_name}"</td>
</tr>
<tr class="trchange">
	<td class="tdfield">added path</td>
	<td class="tdchange">.components.schemas."v0.0.37_reservation"</td>
</tr>
</table>

<h4>Mark job environment as required</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_properties".required</td>
</tr>
</table>

<h4>Correct preemption_mode type to list of strings</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_partition".properties.preemption_mode</td>
</tr>
</table>

<h4>Set UNIX timestamps to int64 instead of string</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.accrue_time</td>
</tr>
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.eligible_time</td>
</tr>
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.end_time</td>
</tr>
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.preempt_time</td>
</tr>
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.pre_sus_time</td>
</tr>
<tr class="trchange">
	<td class="tdfield">modify path</td>
	<td class="tdchange">.components.schemas."v0.0.37_job_response_properties".properties.resize_time</td>
</tr>
</table>

<h4>Add new fields to node properties</h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.tres_used</td>
</tr>
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.tres_weighted</td>
</tr>
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.alloc_cpus</td>
</tr>
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.idle_cpus</td>
</tr>
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.alloc_memory</td>
</tr>
<tr class="trchange">
	<td class="tdfield">add path</td>
	<td class="tdchange">.components.schemas."v0.0.37_node".properties.partitions</td>
</tr>
</table>

<h4>replace nodes_online with state in /partitions endpoint<h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">removed path</td>
	<td class="tdchange">.components.schemas."v0.0.37_partitions_response".nodes_online</td>
</tr>
<tr class="trchange">
	<td class="tdfield">added path</td>
	<td class="tdchange">.components.schemas."v0.0.37_partitions_response".state</td>
</tr>
</table>

<h4>Add POST method for /associations<h4>
<table class="tchange">
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.paths."/associations/".post</td>
</tr>
<tr class="trchange">
	<td class="tdfield">new path</td>
	<td class="tdchange">.components.schemas."dbv0.0.37_response_associations"</td>
</tr>
</table>
